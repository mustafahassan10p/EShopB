@page
@model EShopCoreBRazorApp.Pages.Product.IndexModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
}

<h1>
    List of Products
</h1>

<a asp-page="./Create">Create</a>
<form method="post">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Product Name</th>
                <th scope="col">Qty</th>
                <th scope="col">Price</th>
                <th scope="col">Created Date</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Products != null)
            {
                foreach (var product in Model.Products)
                {
                    <tr>
                        <th scope="row">@product.ProductId</th>
                        <td>@product.ProductName</td>
                        <td>@product.Qty</td>
                        <td>@product.Price</td>
                        <td>@product.CreatedDateTime</td>
                        <td>
                            <a asp-page="./Edit" asp-route-id="@product.ProductId">Edit</a>
                            <button type="submit" asp-page-handler="delete" asp-route-id="@product.ProductId">Delete</button>
                        </td>
                    </tr>

                }
            }
        </tbody>
    </table>
</form>
